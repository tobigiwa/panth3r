<!DOCTYPE html>
<html>

<body>

    <h2>HTML Form</h2>

    <form id="myForm" action="https://waitlist-backend-production.up.railway.app/joinwaitlist" method="post" enctype="application/x-www-form-urlencoded>
        <label for="name">Name:</label><br>
        <input type="text" id="name" name="name"><br>
        <label for="email">Email:</label><br>
        <input type="email" id="email" name="email"><br><br>
        <input type="submit" value="Submit">
    </form>

    <script>
        document.getElementById('myForm').addEventListener('submit', function (e) {
                // e.preventDefault();

                var url = e.target.action;
                var formData = new FormData(e.target);
                var formParams = new URLSearchParams();

                for (var pair of formData.entries()) {
                    formParams.append(pair[0], pair[1]);
                }

                fetch(url, {
                    method: 'POST',
                    body: formParams
                })
                    .then(response => response.text())
                    .then(result => {
                        console.log(result);
                    })
                    .catch(error => {
                        console.error('Error:', error);
                    });
            });

    </script>

</body>

</html>